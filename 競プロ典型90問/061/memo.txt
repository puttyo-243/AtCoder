山札＝リスト(左が上、右が下)
ti=1 の時＝リストの先頭にxiを追加
ti=2 の時＝リストの最後にxiを追加
ti=3 で書きだされる数字＝リストの(xi+1)番目の数字

O(10^5 + 10^5) = O(2*10^5) ≈ O(10^5)